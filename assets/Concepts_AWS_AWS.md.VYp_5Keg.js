import{f as e,h as t,j as n,t as r}from"./chunks/plugin-vue_export-helper.CMCX8Lry.js";const i=JSON.parse(`{"title":"AWS","description":"Amazon Web Services is a Cloud Provider","frontmatter":{"title":"AWS","description":"Amazon Web Services is a Cloud Provider"},"headers":[],"relativePath":"Concepts/AWS/AWS.md","filePath":"Concepts/AWS/AWS.md","lastUpdated":1767053997000}`);var a={name:`Concepts/AWS/AWS.md`};function o(r,i,a,o,s,c){return n(),e(`div`,null,[...i[0]||=[t(`<h1 id="aws" tabindex="-1">AWS <a class="header-anchor" href="#aws" aria-label="Permalink to “AWS”">​</a></h1><p>AWS (<strong>Amazon Web Services</strong>) is a <em>Cloud Provider</em></p><p>They provide many servers and services that can be used <strong>on demand</strong> and <strong>scaled easily</strong></p><h2 id="amazon-web-services" tabindex="-1">Amazon Web Services <a class="header-anchor" href="#amazon-web-services" aria-label="Permalink to “Amazon Web Services”">​</a></h2><ol><li><a href="#aws-global-infrastructure">AWS Global Infrastructure</a></li><li><a href="./AWS_IAM.html">IAM</a></li><li><a href="./AWS_EC2.html">EC2 and Storage</a></li><li><a href="./AWS_Load_Balancing.html">Load Balancing</a></li><li><a href="./AWS_RDS.html">RDS</a></li><li><a href="./AWS_Route_53.html">Route 53</a></li><li><a href="./AWS_VPC.html">VPC</a></li><li><a href="./Amazon_S3.html">S3</a></li><li><a href="./AWS_CloudFront.html">CloudFront</a></li><li><a href="./AWS_ECS.html">ECS</a></li><li><a href="./AWS_Elastic_Beanstalk.html">Elastic Beanstalk</a></li><li><a href="./AWS_CI_CD.html">AWS CICD</a></li><li><a href="./AWS_CloudFormation.html">AWS CloudFormation</a></li><li><a href="./AWS_Monitoring_Troubleshooting_Audit.html">AWS Monitoring, Troubleshooting &amp; Audit</a></li><li><a href="./AWS_Integration_and_Messaging.html">AWS Integration and Messaging</a></li><li><a href="./AWS_Lambda.html">AWS Lambda</a></li><li><a href="./AWS_DynamoDB.html">AWS DynamoDB</a></li><li><a href="./AWS_API_Gateway.html">AWS API Gateway</a></li><li><a href="./AWS_Serverless_Application_Model.html">AWS Serverless Application Model</a></li><li><a href="./AWS_Cloud_Development_Kit.html">AWS Cloud Development Kit</a></li><li><a href="./AWS_Cognito.html">AWS Cognito</a></li></ol><h2 id="what-is-cloud-computing" tabindex="-1">What is Cloud-Computing? <a class="header-anchor" href="#what-is-cloud-computing" aria-label="Permalink to “What is Cloud-Computing?”">​</a></h2><ul><li><p>A model that enables businesses to acquire resources for their IT infrastructure needs on demand</p></li><li><p>Cloud resources: Servers, storage, databases, networks, software applications, and so on</p></li><li><p>Ensures the instantaneous availability of resources with lower cost and operational overhead</p></li></ul><p>Benefits:</p><ul><li>Cost savings</li><li>Data Loss Prevention</li><li>Scalability</li><li>Flexibility</li><li>Security</li><li>Data Analytics</li><li>Mobile Access</li></ul><p>Cloud Economics: Cloud computing reduces Capital Expenditures (CapEx) by eliminating the need to run and maintain your own infrastructure Your costs shift to Operating Expenses (OpEx), which are generally lower as you only pay for the resources you consume</p><h2 id="types-of-cloud" tabindex="-1">Types of Cloud <a class="header-anchor" href="#types-of-cloud" aria-label="Permalink to “Types of Cloud”">​</a></h2><h3 id="public-clouds" tabindex="-1">Public Clouds <a class="header-anchor" href="#public-clouds" aria-label="Permalink to “Public Clouds”">​</a></h3><ul><li>Public Clouds are environments where network infra and resources are made accessible to the public</li><li>Resources are partitioned and distributed amongst multiple customers or tenants</li></ul><h3 id="private-clouds" tabindex="-1">Private Clouds <a class="header-anchor" href="#private-clouds" aria-label="Permalink to “Private Clouds”">​</a></h3><ul><li>Private Clouds environments are privately owned and hosted by an enterprise</li><li>Resources are generally made accessible to a private organization and their customers and partners <ul><li>Managed private clouds are deployed and fully managed by a third-party, reducing the IT staffing needs for the enterprise</li><li>Dedicated private clouds are hosted on a public or private cloud to server a particular department within an enterprise</li></ul></li></ul><h3 id="hybrid-clouds" tabindex="-1">Hybrid Clouds <a class="header-anchor" href="#hybrid-clouds" aria-label="Permalink to “Hybrid Clouds”">​</a></h3><ul><li>Hybrid Clouds are cloud environments that appear as a single cloud although they are built from multiple clouds ( connected through LANs, WANs, VPNs and/or APIs )</li><li>Offer flexibility in deployment options by enabling workloads to move between private and public clouds based on computing needs</li></ul><h3 id="multi-clouds" tabindex="-1">Multi Clouds <a class="header-anchor" href="#multi-clouds" aria-label="Permalink to “Multi Clouds”">​</a></h3><ul><li>Multi-clouds are cloud environments that offer more than one cloud service from more than one public cloud service provider</li><li>Resources are deployed across different cloud availability zones and regions</li><li>All Hybrid Clouds are Multi Clouds</li></ul><h3 id="top-public-cloud-providers" tabindex="-1">Top Public Cloud Providers <a class="header-anchor" href="#top-public-cloud-providers" aria-label="Permalink to “Top Public Cloud Providers”">​</a></h3><ul><li>Amazon Web Services</li><li>Microsoft Azure</li><li>Google Cloud</li><li>Others Public Cloud Providers</li><li>Cloud Connectors</li></ul><h2 id="queries" tabindex="-1">Queries <a class="header-anchor" href="#queries" aria-label="Permalink to “Queries”">​</a></h2><ol><li>IaaS vs PaaS vs SaaS</li></ol><h3 id="lift-and-shift-cloud-migration" tabindex="-1">Lift and Shift Cloud Migration <a class="header-anchor" href="#lift-and-shift-cloud-migration" aria-label="Permalink to “Lift and Shift Cloud Migration”">​</a></h3><p>Lift and shift (or <strong>rehosting</strong>) is one way you might consider moving to the cloud. Simply put, lift and shift means moving a copy of an existing application and data to cloud infrastructure with minimal or no redesigning or modification</p><h2 id="aws-global-infrastructure" tabindex="-1">AWS Global Infrastructure <a class="header-anchor" href="#aws-global-infrastructure" aria-label="Permalink to “AWS Global Infrastructure”">​</a></h2><ul><li><a href="#aws-regions">AWS Regions</a></li><li><a href="#aws-availability-zones">AWS Availability Zones</a></li><li>AWS Data Centres</li><li><a href="#aws-points-of-presence">AWS Edge Locations/Points of Presence</a></li></ul><blockquote><p><a href="https://infrastructure.aws/" target="_blank" rel="noreferrer">AWS Global Infrastructure Map</a></p></blockquote><h3 id="aws-regions" tabindex="-1">AWS Regions <a class="header-anchor" href="#aws-regions" aria-label="Permalink to “AWS Regions”">​</a></h3><ul><li>AWS has <strong>Regions all around the world</strong></li><li>Names can be <code>us-east-1</code>, <code>eu-west-3</code>..</li><li>A region is a <strong>cluster of data centres</strong></li><li><strong>Most AWS services are region-scoped</strong></li></ul><h4 id="how-to-choose-an-aws-region" tabindex="-1">How to choose an AWS Region? <a class="header-anchor" href="#how-to-choose-an-aws-region" aria-label="Permalink to “How to choose an AWS Region?”">​</a></h4><ul><li><strong><em>Compliance</em> with data governance and legal requirements</strong>: data never leaves a region without your explicit permission</li><li><strong><em>Proximity</em> to customers</strong>: reduced latency</li><li><strong><em>Available services</em> within a Region</strong>: new services and new features aren&#39;t available in every Region</li><li><strong><em>Pricing</em></strong>: pricing varies region to region and is transparent in the service pricing page</li></ul><h3 id="aws-availability-zones" tabindex="-1">AWS Availability Zones <a class="header-anchor" href="#aws-availability-zones" aria-label="Permalink to “AWS Availability Zones”">​</a></h3><ul><li>Each region has many Availability Zones (usually 3, min is 2, max is 6)</li></ul><p><em>Example:</em></p><table tabindex="0"><thead><tr><th>AWS Region</th><th>Availability Zones</th></tr></thead><tbody><tr><td><code>ap-sountheast-2</code> (Sydney)</td><td><code>ap-sountheast-2a</code></td></tr><tr><td></td><td><code>ap-sountheast-2b</code></td></tr><tr><td></td><td><code>ap-sountheast-2c</code></td></tr></tbody></table><ul><li>Each Availability Zone (AZ) is <strong>one or more discrete data centres with redundant power, networking, and connectivity</strong></li><li>They&#39;re separate from each other, so that they&#39;re <strong>isolated from disasters</strong></li><li>They&#39;re connected with high bandwidth, ultra-low latency networking</li></ul><h3 id="aws-points-of-presence" tabindex="-1">AWS Points of Presence <a class="header-anchor" href="#aws-points-of-presence" aria-label="Permalink to “AWS Points of Presence”">​</a></h3><ul><li>Amazon has around 216 Points of Presence (205 Edge Locations &amp; 11 Regional Caches) in 84 cities across 42 countries</li><li>Content is delivered to end users with lower latency</li></ul><h3 id="global-and-scoped-services" tabindex="-1">Global and Scoped Services <a class="header-anchor" href="#global-and-scoped-services" aria-label="Permalink to “Global and Scoped Services”">​</a></h3><ul><li><p>AWS has Global Services:</p><ul><li><a href="./AWS_IAM.html">Identity and Access Management</a> (IAM)</li><li><a href="./AWS_Route_53.html">Route 53</a> (DNS service)</li><li><a href="./AWS_CloudFront.html">CloudFront</a> (Content Delivery Network)</li><li>WAF (Web Application Firewall)</li></ul></li><li><p>Most AWS services are Region-scoped:</p><ul><li><a href="./AWS_EC2.html">Amazon EC2</a> (Infrastructure as a Service)</li><li><a href="./AWS_Elastic_Beanstalk.html">Elastic Beanstalk</a> (Platform as a Service)</li><li><a href="./AWS_Lambda.html">Lambda</a> (Function as a Service)</li><li>Rekognition (Software as a Service)</li></ul></li></ul><blockquote><p><a href="https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services" target="_blank" rel="noreferrer">Region Table</a></p></blockquote><h2 id="developing-on-aws" tabindex="-1">Developing on AWS <a class="header-anchor" href="#developing-on-aws" aria-label="Permalink to “Developing on AWS”">​</a></h2><p>We can interact with AWS using AWS Console (Web Based App), AWS CLI, and AWS SDK</p><ul><li><p>We can interact with services manually and they expose standard information for clients:</p><ul><li>EC2 exposes a standard Linux machine we can use any way we want</li><li>RDS exposes a standard database we can connect to using a URL</li><li>ElastiCache exposes a cache URL we can connect to using a URL</li><li>ASG/ELB are automated and we don&#39;t have to program against them</li><li>Route53 was setup manual</li></ul></li><li><p>Developing against AWS has two components:</p><ul><li>How to perform interactions with AWS without using the Online Console?</li><li>How to interact with AWS Proprietary services? (S3, DynamoDB, etc...)</li></ul></li><li><p>Developing and performing AWS tasks against AWS can be done in several ways</p><ul><li>Using the AWS CLI on our local computer</li><li>Using the AWS CLI on our EC2 machines</li><li>Using the AWS SDK on our local computer</li><li>Using the AWS SDK on our EC2 machines</li><li>Using the AWS Instance Metadata Service for EC2</li></ul></li></ul><p>AWS CLI v2 Setup: <a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html" target="_blank" rel="noreferrer">Install AWS CLI on Windows/Mac/Linux</a></p><h3 id="cli-installation-troubleshooting" tabindex="-1">CLI Installation Troubleshooting <a class="header-anchor" href="#cli-installation-troubleshooting" aria-label="Permalink to “CLI Installation Troubleshooting”">​</a></h3><ul><li><p>If after installing the AWS CLI, you use it and you get the error:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">aws:</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> command</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> not</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> found</span></span></code></pre></div></li><li><p>Then, on Linux, Mac and Windows <strong>the aws executable is not in the PATH environment variable</strong></p></li><li><p>PATH allows your system to know where to find the &quot;aws&quot; executable</p></li></ul><h3 id="aws-cli-configuration" tabindex="-1">AWS CLI Configuration <a class="header-anchor" href="#aws-cli-configuration" aria-label="Permalink to “AWS CLI Configuration”">​</a></h3><ul><li>How to properly configure the CLI</li><li>Computer (CLI) --&gt; access over WWW --&gt; AWS NETWORK --&gt; AWS Account (checks credentials and permissions)</li><li>Do not share your AWS Access Key and Secret key with anyone!</li></ul><ol><li><p>AWS CLI ON EC2... THE BAD WAY</p><ul><li>To configure AWS CLI run <code>aws configure</code> on EC2</li><li>But... it&#39;s SUPER INSECURE</li><li>NEVER EVER EVER PUT YOUR PERSONAL CREDENTIALS ON AN EC2</li><li>Your PERSONAL credentials are PERSONAL and only belong on your PERSONAL computer</li><li>If the EC2 is compromised, so is your personal account</li><li>If the EC2 is shared, other people may perform AWS actions while impersonating you</li><li>For EC2, there&#39;s a better way... it&#39;s called AWS IAM Roles</li></ul></li><li><p>AWS CLI ON EC2... THE RIGHT WAY</p><ul><li>IAM Roles can be attached to EC2 instances</li><li>IAM Roles can come with a policy authorizing exactly what the EC2 instance should be able to do</li><li>AWS NETWORK --&gt; EC2 Instance --&gt; IAM ROLE --&gt; CLI --&gt; AWS Account (checks credentials and permissions of the ROLE)</li><li>EC2 Instances can then use these profiles automatically without any additional configurations</li><li>This is the best practice on AWS and you should 100% do this</li></ul></li></ol><h3 id="aws-cli-dry-runs" tabindex="-1">AWS CLI Dry Runs <a class="header-anchor" href="#aws-cli-dry-runs" aria-label="Permalink to “AWS CLI Dry Runs”">​</a></h3><ul><li>Sometimes, we&#39;d just like to make sure we have the permissions..</li><li>But not actually run the commands!</li><li>Some AWS CLI commands (such as EC2) can become expensive if they succeed, say if we wanted to try to create an EC2 Instance</li><li>Some AWS CLI commands (not all) contain a <code>--dry-run</code> option to simulate API calls</li></ul><h3 id="aws-cli-sts-decode-errors" tabindex="-1">AWS CLI STS Decode Errors <a class="header-anchor" href="#aws-cli-sts-decode-errors" aria-label="Permalink to “AWS CLI STS Decode Errors”">​</a></h3><ul><li><p>When you run API calls and they fail, you can get a error long-message</p></li><li><p>This error message can be <strong>decoded using</strong> the <strong>STS</strong> command: <code>sts decode-authorization-message</code></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">aws</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> sts</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> decode-authorization-message</span><span style="--shiki-dark:#C99076;--shiki-light:#005CC5;"> --encoded-message</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> &lt;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">error_messag</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">e</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;"># It returns a JSON object containing all the error details</span></span></code></pre></div></li></ul><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>If you get AccessDenied error while running STS, please attach a policy that allows <em>STS</em> with access level of <em>Write</em></p></div><h3 id="aws-profile" tabindex="-1">AWS Profile <a class="header-anchor" href="#aws-profile" aria-label="Permalink to “AWS Profile”">​</a></h3><ol><li><p>To add a profile into your working machine you need access keys</p></li><li><p>Create access keys for an IAM user by following the <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-quickstart.html" target="_blank" rel="noreferrer">configuring settings for the AWS CLI</a> docs</p></li><li><p>Now configure AWS CLI with the default profile:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">aws</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> configure</span></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;"># It will ask for:</span></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;"># AWS Access Key ID [None]: aldjasldjsa</span></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;"># AWS Secret Access Key [None]: dkfljdsfljdf</span></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;"># Default region name [None]: us-west-2</span></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;"># Default output format [None]: json</span></span></code></pre></div></li><li><p>This will create a <code>.aws</code> directory in your home directory. It will contain two files:</p><ul><li><code>config</code>: It will contain the region details</li><li><code>credentials</code>: It will contain the profile access key and secret key</li></ul></li></ol><p>You can add multiple profiles:</p><ol><li><p>Using <code>profile</code> parameter in the CLI you can define profiles and also use them</p></li><li><p>To add a new profile:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">aws</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> configure</span><span style="--shiki-dark:#C99076;--shiki-light:#005CC5;"> --profile</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> &lt;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">profile_nam</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">e</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">&gt;</span></span></code></pre></div></li><li><p>So, to use this profile, just append <code>--profile &lt;profile_name&gt;</code> to any AWS CLI command you want to run</p></li></ol><h3 id="mfa-with-cli" tabindex="-1">MFA with CLI <a class="header-anchor" href="#mfa-with-cli" aria-label="Permalink to “MFA with CLI”">​</a></h3><ul><li>To use MFA with the CLI, you must enable MFA from the AWS Console for your profile</li></ul><ol><li><p>Create a temporary session</p></li><li><p>To do so, you must run the <code>sts getsessiontoken</code> API call</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">aws</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> sts</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> get-session-token</span><span style="--shiki-dark:#C99076;--shiki-light:#005CC5;"> --serial-number</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> arn-of-the-mfa-device</span><span style="--shiki-dark:#C99076;--shiki-light:#005CC5;"> --token-code</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> code-from-token</span><span style="--shiki-dark:#C99076;--shiki-light:#005CC5;"> --duration-seconds</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;"> 3600</span></span></code></pre></div></li><li><p>Response:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">{</span></span>
<span class="line"><span style="--shiki-dark:#B8A96577;--shiki-light:#005CC5;">  &quot;</span><span style="--shiki-dark:#B8A965;--shiki-light:#005CC5;">Credentials</span><span style="--shiki-dark:#B8A96577;--shiki-light:#005CC5;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">:</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#B8A96577;--shiki-light:#005CC5;">    &quot;</span><span style="--shiki-dark:#B8A965;--shiki-light:#005CC5;">SecretAccessKey</span><span style="--shiki-dark:#B8A96577;--shiki-light:#005CC5;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">:</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">secret-access-key</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#B8A96577;--shiki-light:#005CC5;">    &quot;</span><span style="--shiki-dark:#B8A965;--shiki-light:#005CC5;">SessionToken</span><span style="--shiki-dark:#B8A96577;--shiki-light:#005CC5;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">:</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">temporary-session-token</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#B8A96577;--shiki-light:#005CC5;">    &quot;</span><span style="--shiki-dark:#B8A965;--shiki-light:#005CC5;">Expiration</span><span style="--shiki-dark:#B8A96577;--shiki-light:#005CC5;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">:</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">expiration-date-time</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#B8A96577;--shiki-light:#005CC5;">    &quot;</span><span style="--shiki-dark:#B8A965;--shiki-light:#005CC5;">AccessKeyId</span><span style="--shiki-dark:#B8A96577;--shiki-light:#005CC5;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">:</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">access-key-id</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">  }</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">}</span></span></code></pre></div></li><li><p>Run the <code>aws configure --profile &lt;profile_name&gt;</code> command and provide the access-key and secret-access-key</p></li><li><p>Now open <code>~/.aws/credentials</code> file and add the session token:</p><div class="language-toml"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">aws_session_token</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> =</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> s</span><span style="--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;--shiki-light:#B31D28;--shiki-light-font-style:italic;">ldjfljdsklfjsdklfjdskljfksdf324.234jv943.///;3423oj23f9</span></span></code></pre></div></li></ol><h2 id="aws-sdk" tabindex="-1">AWS SDK <a class="header-anchor" href="#aws-sdk" aria-label="Permalink to “AWS SDK”">​</a></h2><p>What if you want to perform actions on AWS directly from your applications code ? (without using the CLI)</p><ul><li><p>You can use an SDK (software development kit)!</p></li><li><p>Official SDKs are:</p><ul><li>Java</li><li>.NET</li><li>Node.js</li><li>PHP</li><li>Python (named <code>boto3</code>/<code>botocore</code>)</li><li>Go</li><li>Ruby</li><li>C++</li></ul></li><li><p>We have to use the AWS SDK when coding against AWS Services such as DynamoDB</p></li><li><p>The AWS CLI uses the Python SDK (<code>boto3</code>)</p></li></ul><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>If you don&#39;t specify or configure a default region, then <code>us-east-1</code> will be chosen by default</p></div><h3 id="aws-limits-quotas" tabindex="-1">AWS Limits (Quotas) <a class="header-anchor" href="#aws-limits-quotas" aria-label="Permalink to “AWS Limits (Quotas)”">​</a></h3><ul><li><p>API Rate Limits</p><ul><li>Describe Instances API for EC2 has a limit of 100 calls per seconds</li><li><code>GetObject</code> on S3 has a limit of 5500 GET per second per prefix</li><li>For Intermittent Errors: implement <a href="#exponential-back-off">Exponential Back-off</a></li><li>For Consistent Errors: request an API throttling limit increase</li></ul></li><li><p>Service Quotas (Service Limits)</p><ul><li>Running On-Demand Standard Instances: 1152 vCPU</li><li>You can request a service limit increase by opening a ticket</li><li>You can request a service quota increase by using the Service Quotas API</li></ul></li></ul><h4 id="exponential-back-off" tabindex="-1">Exponential Back-off <a class="header-anchor" href="#exponential-back-off" aria-label="Permalink to “Exponential Back-off”">​</a></h4><p>Exponential Back-off for any AWS service</p><ul><li>If you get <em>ThrottlingException</em> intermittently, use exponential back-off</li><li>Retry mechanism already included in AWS SDK API calls</li><li>Must implement yourself if using the AWS API as-is or in specific cases <ul><li>Must only implement the retries on <code>5xx</code> server errors and throttling</li><li>Do not implement on the <code>4xx</code> client errors</li></ul></li></ul><h3 id="aws-cli-credentials-provider-chain" tabindex="-1">AWS CLI Credentials Provider Chain <a class="header-anchor" href="#aws-cli-credentials-provider-chain" aria-label="Permalink to “AWS CLI Credentials Provider Chain”">​</a></h3><p>The CLI will look for credentials in this order:</p><ol><li>Command line options: <code>--region</code>, <code>--output</code>, and <code>--profile</code></li><li>Environment variables: <code>AWS_ACCESS_KEY_ID</code>, <code>AWS_SECRET_ACCESS_KEY</code>, and <code>AWS_SESSION_TOKEN</code></li><li>CLI credentials file: <code>aws configure</code> and <code>~/.aws/credentials</code> on Linux/Mac &amp; <code>C:\\Users\\user\\.aws\\credentials</code> on Windows</li><li>CLI configuration file: <code>aws configure</code> and <code>~/.aws/config</code> on Linux/macOS &amp; <code>C:\\Users\\USERNAME\\.aws\\config</code> on Windows</li><li>Container credentials: for ECS tasks</li><li>Instance profile credentials: for EC2 Instance Profiles</li></ol><h4 id="aws-sdk-default-credentials-provider-chain" tabindex="-1">AWS SDK Default Credentials Provider Chain <a class="header-anchor" href="#aws-sdk-default-credentials-provider-chain" aria-label="Permalink to “AWS SDK Default Credentials Provider Chain”">​</a></h4><p>The Java SDK (example) will look for credentials in this order:</p><ol><li>Java system properties: <code>aws.accessKeyId</code> and <code>aws.secretKey</code></li><li>Environment variables: <code>AWS_ACCESS_KEY_ID</code> and <code>AWS_SECRET_ACCESS_KEY</code></li><li>The default credential profiles file: ex at: <code>~/.aws/credentials</code>, shared by many SDK</li><li>Amazon ECS container credentials: for ECS containers</li><li>Instance profile credentials: used on EC2 instances</li></ol><h4 id="aws-credentials-scenario" tabindex="-1">AWS Credentials Scenario <a class="header-anchor" href="#aws-credentials-scenario" aria-label="Permalink to “AWS Credentials Scenario”">​</a></h4><ul><li>An application deployed on an EC2 instance is using environment variables with credentials from an IAM user to call the Amazon S3 API</li><li>The IAM user has S3FullAccess permissions</li><li>The application only uses one S3 bucket, so according to best practices: <ul><li>An IAM Role &amp; EC2 Instance Profile was created for the EC2 instance</li><li>The Role was assigned the minimum permissions to access that one S3 bucket</li><li>The IAM Instance Profile was assigned to the EC2 instance, but it still had access to all S3 buckets. Why?</li><li>The credentials chain is still giving priorities to the environment variables</li></ul></li></ul><h4 id="aws-credentials-best-practices" tabindex="-1">AWS Credentials Best Practices <a class="header-anchor" href="#aws-credentials-best-practices" aria-label="Permalink to “AWS Credentials Best Practices”">​</a></h4><ul><li><p>Overall, <strong>NEVER EVER STORE AWS CREDENTIALS IN YOUR CODE</strong></p></li><li><p>Best practice is for credentials to be inherited from the credentials chain</p></li><li><p>If using working within AWS, use IAM Roles</p><ul><li>For EC2 Instances Roles for EC2 Instances</li><li>For ECS Roles for ECS tasks</li><li>For Lambda Roles for Lambda functions</li></ul></li><li><p>If working outside of AWS, use environment variables/named profiles</p></li></ul><h4 id="signing-aws-api-requests" tabindex="-1">Signing AWS API requests <a class="header-anchor" href="#signing-aws-api-requests" aria-label="Permalink to “Signing AWS API requests”">​</a></h4><ul><li>When you call the AWS HTTP API, you sign the request so that AWS can identify you, using your AWS credentials (access key &amp; secret key)</li><li>Note: some requests to Amazon S3 don&#39;t need to be signed</li><li>If you use the SDK or CLI, the HTTP requests are signed for you</li><li>You should sign an AWS HTTP request using Signature v4 (SigV4)</li></ul><h4 id="sigv4-request-examples" tabindex="-1">SigV4 Request examples <a class="header-anchor" href="#sigv4-request-examples" aria-label="Permalink to “SigV4 Request examples”">​</a></h4><ul><li><p>HTTP Header option:</p><div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">GET</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> https://iam.amazonaws.com/?Action=ListUsers&amp;Version=2010-05-08 </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">HTTP</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">/</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;">1.1</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#22863A;">Authorization</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">:</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> AWS4-HMAC-SHA256 Credential=AKIDEXAMPLE/20150830/us-east-1/iam/aws4_request,</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">SignedHeaders=content-type;host;x-amz-date,</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">Signature=aajkhf324f9h9fj397g5gb37934hff492345</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#22863A;">content-type</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">:</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> application/x-www-form-urlencoded; charset=utf-8</span></span></code></pre></div></li><li><p>Query String option (ex: S3 pre-signed URLs)</p><div class="language-http"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">GET</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> https://iam.amazonaws.com/?Action=ListUsers&amp;Version=2010-05-08&amp;</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">X-Amz-Algorith=AWS4-HMAC-SHA256&amp;</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">X-Amz-Credential=AKIDEXAMPLE%2F20150830%2Fus-east-1%2Fiam%2Faws4_request&amp;</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">X-Amz-Date=20150830T123600Z&amp;X-Amz-Expirese=60&amp;X-Amz-SignedHeaders=content-type%3Bhost&amp;</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">X-Amz-Signature=aajkhf324f9h9fj397g5gb37934hff492345 HTTP/1.1</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#22863A;">content-type</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">:</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> application/x-www-form-urlencoded; charset=utf-8</span></span></code></pre></div></li></ul><h2 id="scalability-high-availability" tabindex="-1">Scalability &amp; High Availability <a class="header-anchor" href="#scalability-high-availability" aria-label="Permalink to “Scalability &amp; High Availability”">​</a></h2><p>Scalability means that an application/system can handle greater loads by adapting</p><ul><li><p>There are two kinds of scalability:</p><ul><li>Vertical Scalability</li><li>Horizontal Scalability (elasticity)</li></ul></li><li><p>Scalability is linked but different to High Availability</p></li></ul><h3 id="vertical-scalability" tabindex="-1">Vertical Scalability <a class="header-anchor" href="#vertical-scalability" aria-label="Permalink to “Vertical Scalability”">​</a></h3><p>Vertically scalability means <strong>increasing the size of the instance</strong></p><ul><li>Example, your application runs on a <code>t2.micro</code></li><li>Scaling that application vertically means running it on a <code>t2.large</code></li><li>Vertical scalability is <strong>very common for non-distributed systems, such as a database</strong></li><li>RDS, ElastiCache are services that can scale vertically</li><li>There&#39;s <strong>usually a limit to how much you can vertically scale (hardware limit)</strong></li></ul><h3 id="horizontal-scalability" tabindex="-1">Horizontal Scalability <a class="header-anchor" href="#horizontal-scalability" aria-label="Permalink to “Horizontal Scalability”">​</a></h3><p>Horizontal scalability means <strong>increasing the number of instances/systems for your application</strong></p><ul><li>Horizontal scaling <strong>implies distributed systems</strong>. This is very common for web applications/modern applications</li><li>It&#39;s <strong>easy to horizontally scale</strong> thanks the cloud offerings such as Amazon EC2</li></ul><h3 id="high-availability" tabindex="-1">High Availability <a class="header-anchor" href="#high-availability" aria-label="Permalink to “High Availability”">​</a></h3><ul><li>High Availability usually goes hand in hand with horizontal scaling</li><li>High availability means <strong>running your application/system in at least 2 data centers</strong> (Availability Zones)</li><li>The goal of high availability is to <strong>survive a data center loss</strong></li><li>The high availability can be passive (RDS Multi AZ)</li><li>The high availability can be active (horizontal scaling)</li></ul><h3 id="high-availability-and-scalability-for-ec2" tabindex="-1">High Availability and Scalability for EC2 <a class="header-anchor" href="#high-availability-and-scalability-for-ec2" aria-label="Permalink to “High Availability and Scalability for EC2”">​</a></h3><ul><li><p>Vertical Scaling: Increase instance size (scale up/down)</p><ul><li>From: <code>t2.nano</code> - 0.5G of RAM, 1 vCPU</li><li>To: <code>u-12tb1.metal</code> - 12.3TB of RAM, 448 vCPUs</li></ul></li><li><p>Horizontal Scaling: Increase number of instances (scale out/in)</p><ul><li>Auto Scaling Group</li><li>Load Balancer</li></ul></li><li><p>High Availability: Run instances for the same application across multi AZ</p><ul><li>Auto Scaling Group multi AZ</li><li>Load Balancer multi AZ</li></ul></li></ul><h2 id="what-is-a-distributed-system" tabindex="-1">What is a Distributed System? <a class="header-anchor" href="#what-is-a-distributed-system" aria-label="Permalink to “What is a Distributed System?”">​</a></h2><p>A distributed computing system consists of multiple independent software components. These independent software components are located on different systems that communicate in such a way that they appear as a single system to the end user</p><ul><li>Cloud computing is based on the distributed systems model</li></ul><p>Types of Distributed Systems:</p><ol><li><p>Peer-to-Peer: in the peer-to-peer architectural model, responsibilities are uniformly distributed among machines in the system</p></li><li><p>Client-Server: In the client-server model, data on the server is accessed by clients</p></li><li><p>Three-tier: The three-tier architectural model enables information about the client to be stored in the middle tier</p></li><li><p>N-tier: The n-tier architecture allows an application or server to forward requests to additional enterprise services on the network</p></li></ol>`,104)]])}var s=r(a,[[`render`,o]]);export{i as __pageData,s as default};