import{f as e,h as t,j as n,t as r}from"./chunks/plugin-vue_export-helper.Dz-VHcSB.js";const i=JSON.parse(`{"title":"React Query","description":"Powerful asynchronous state management","frontmatter":{"title":"React Query","description":"Powerful asynchronous state management"},"headers":[],"relativePath":"Languages/JavaScript/React/React_Query.md","filePath":"Languages/JavaScript/React/React_Query.md","lastUpdated":1756574703000}`);var a={name:`Languages/JavaScript/React/React_Query.md`};function o(r,i,a,o,s,c){return n(),e(`div`,null,[...i[0]||=[t(`<h1 id="react-query" tabindex="-1">React Query <a class="header-anchor" href="#react-query" aria-label="Permalink to “React Query”">​</a></h1><p>React Query is a data-fetching library for React, it can be used for <strong>fetching, caching, synchronizing and updating server state</strong></p><p><em>Example:</em></p><div class="language-tsx"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">import</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">  useQuery</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">  useMutation</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">  useQueryClient</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">  QueryClient</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">  QueryClientProvider</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">}</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> from</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">@tanstack/react-query</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">;</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">import</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> {</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> getTodos</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">,</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> postTodo</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> }</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> from</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">../my-api</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">// Create a client</span></span>
<span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">const</span><span style="--shiki-dark:#BD976A;--shiki-light:#005CC5;"> queryClient</span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> new</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> QueryClient</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">function</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> App</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">()</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">  return</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> (</span></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">    // Provide the client to your App</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">    &lt;</span><span style="--shiki-dark:#B8A965;--shiki-light:#005CC5;">QueryClientProvider</span><span style="--shiki-dark:#BD976A;--shiki-light:#6F42C1;"> client</span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">{</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">queryClient</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">}&gt;</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">      &lt;</span><span style="--shiki-dark:#B8A965;--shiki-light:#005CC5;">Todos</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> /&gt;</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">    &lt;/</span><span style="--shiki-dark:#B8A965;--shiki-light:#005CC5;">QueryClientProvider</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">  );</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">function</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> Todos</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">()</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">  // Access the client</span></span>
<span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">  const</span><span style="--shiki-dark:#BD976A;--shiki-light:#005CC5;"> queryClient</span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> useQueryClient</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">  // Queries</span></span>
<span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">  const</span><span style="--shiki-dark:#BD976A;--shiki-light:#005CC5;"> query</span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> useQuery</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">([</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">todos</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">],</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> getTodos</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">  // Mutations</span></span>
<span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">  const</span><span style="--shiki-dark:#BD976A;--shiki-light:#005CC5;"> mutation</span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> useMutation</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">postTodo</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">,</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">    onSuccess</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">:</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> ()</span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;"> =&gt;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">      // Invalidate and refetch</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">      queryClient</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">invalidateQueries</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">([</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">todos</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">]);</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">    },</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">  return</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> (</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">    &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#22863A;">div</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">      &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#22863A;">ul</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">        {</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">query</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">data</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">?.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">map</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">((</span><span style="--shiki-dark:#BD976A;--shiki-light:#E36209;">todo</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">)</span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;"> =&gt;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> (</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">          &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#22863A;">li</span><span style="--shiki-dark:#BD976A;--shiki-light:#6F42C1;"> key</span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">{</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">todo</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">id</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">}&gt;{</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">todo</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">title</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">}&lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#22863A;">li</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">        ))}</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">      &lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#22863A;">ul</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">      &lt;</span><span style="--shiki-dark:#4D9375;--shiki-light:#22863A;">button</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#6F42C1;">        onClick</span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">{()</span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;"> =&gt;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">          mutation</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">mutate</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">({</span></span>
<span class="line"><span style="--shiki-dark:#B8A965;--shiki-light:#24292E;">            id</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">:</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> Date</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">now</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(),</span></span>
<span class="line"><span style="--shiki-dark:#B8A965;--shiki-light:#24292E;">            title</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">:</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">Do Laundry</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">          });</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">        }}</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">      &gt;</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">        Add Todo</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">      &lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#22863A;">button</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">    &lt;/</span><span style="--shiki-dark:#4D9375;--shiki-light:#22863A;">div</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">  );</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">render</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(&lt;</span><span style="--shiki-dark:#B8A965;--shiki-light:#005CC5;">App</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> /&gt;,</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> document</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">getElementById</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">root</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">));</span></span></code></pre></div>`,4)]])}var s=r(a,[[`render`,o]]);export{i as __pageData,s as default};