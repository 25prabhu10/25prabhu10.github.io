import{f as e,h as t,j as n,t as r}from"./chunks/plugin-vue_export-helper.Dz-VHcSB.js";const i=JSON.parse(`{"title":"Entity Framework Core","description":"Entity Framework uses EDM (Entity Data Model) for all database-related operations","frontmatter":{"title":"Entity Framework Core","description":"Entity Framework uses EDM (Entity Data Model) for all database-related operations"},"headers":[],"relativePath":"Languages/C-Sharp/Entity_Framework_Core.md","filePath":"Languages/C-Sharp/Entity_Framework_Core.md","lastUpdated":1767053997000}`);var a={name:`Languages/C-Sharp/Entity_Framework_Core.md`};function o(r,i,a,o,s,c){return n(),e(`div`,null,[...i[0]||=[t(`<h1 id="entity-framework-core" tabindex="-1">Entity Framework Core <a class="header-anchor" href="#entity-framework-core" aria-label="Permalink to “Entity Framework Core”">​</a></h1><p>Entity Framework uses EDM (Entity Data Model) for all database-related operations</p><p>EF Database Context is a bridge between the Entity Classes (C# classes) and the database tables (SQL).</p><p>ORM (Object Relational Mapper):</p><ul><li>Allow the computer to generate database tables based on classes defined in the application</li><li>Database is updated using migrations</li><li>Entity Framework is Microsoft&#39;s ORM</li><li>Simple for basic applications</li></ul><p>Data Access Object (DAO) (Old way):</p><ul><li>Manually create tables</li><li>Traditional method of database access</li><li>Write your own SQL statements</li><li>Database managers (DBA&#39;s) prefer DAOs</li><li>Provides more visibility on finding problems</li></ul><h2 id="setup" tabindex="-1">Setup <a class="header-anchor" href="#setup" aria-label="Permalink to “Setup”">​</a></h2><ul><li><p>Few Packages are need to work with EF Core:</p><ul><li><p><a href="#database-providers">DB Provider</a> Package: Specific to the DB that is being used:</p><ul><li><code>Microsoft.EntityFrameworkCore.SqlServer</code> if the DB is SQL Server</li><li>The other dependent packages are installed automatically such as <code>Relational</code>, <code>EntityFrameworkCore</code></li></ul></li><li><p>Type of DB: Relational, NoSQL, etc...</p><ul><li><code>Microsoft.EntityFrameworkCore.Relational</code> as SQL Server is RDBMS</li></ul></li><li><p><code>Microsoft.EntityFrameworkCore</code> package contains the EF Core functionality</p></li></ul></li><li><p>Create the <a href="#dbcontext-class">DbContext class</a>:</p><div class="language-cs"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">public</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> class</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;"> AppDbContext</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> :</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;"> DbContext</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">{</span></span>
<span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">    public</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> AppDbContext</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">DbContextOptions</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">AppDbContext</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&gt;</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> options</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">)</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> :</span><span style="--shiki-dark:#C99076;--shiki-light:#005CC5;"> base</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">options</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">    {</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">    // Model (Entity)</span></span>
<span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">    public</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;"> DbSet</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">Book</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&gt;</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> Books</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> {</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> get</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">;</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> set</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> }</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">}</span></span></code></pre></div></li><li><p>Register and configure the <code>DbContext</code> class with a DB provider to the DI system in the <code>Startup.cs</code> file:</p><ul><li><code>AddDbContextPool</code> has better performance than <code>AddDbContext</code></li><li>Don&#39;t use <code>AddDbContextPool</code> if private properties are used</li></ul><div class="language-cs"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">public</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> void</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> ConfigureServices</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">IServiceCollection</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> services</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">{</span></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">    // In-memory</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">    services</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">AddDbContextPool</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">TodoContext</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&gt;(</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">opt</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> =&gt;</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> opt</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">UseInMemoryDatabase</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">TodoList</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">    // SQLite</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">    services</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">AddDbContextPool</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">AppDbContext</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&gt;(</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">options</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> =&gt;</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> options</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">UseSqlite</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">$&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">Data Source=</span><span style="--shiki-dark:#666666;--shiki-light:#032F62;">{</span><span style="--shiki-dark:#C98A7D;--shiki-light:#24292E;">DbPath</span><span style="--shiki-dark:#666666;--shiki-light:#032F62;">}</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">    // MySQL</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">    services</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">AddDbContextPool</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">AppDbContext</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&gt;(</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">options</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> =&gt;</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> options</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">UseMySQL</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">Configuration</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">GetConnectionString</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">DefaultConnectionString</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">)));</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">}</span></span></code></pre></div></li></ul><h2 id="dbcontext-class" tabindex="-1">DbContext Class <a class="header-anchor" href="#dbcontext-class" aria-label="Permalink to “DbContext Class”">​</a></h2><p>To use <code>DbContext</code> class in our application, create a class that derives from the <code>DbContext</code> class:</p><ul><li>Pass configuration information to the <code>DbContext</code> using <code>DbContextOptions</code> instance</li><li>Think of it as the database</li></ul><div class="language-cs"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">public</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> class</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;"> AppDbContext</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> :</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;"> DbContext</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">{</span></span>
<span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">    public</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> AppDbContext</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">DbContextOptions</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">AppDbContext</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&gt;</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> options</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">)</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> :</span><span style="--shiki-dark:#C99076;--shiki-light:#005CC5;"> base</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">options</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">    {</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">    // Model (Entity)</span></span>
<span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">    public</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;"> DbSet</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">Book</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&gt;</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> Books</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> {</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> get</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">;</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> set</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> }</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">}</span></span></code></pre></div><ul><li><p>The <code>DbContext</code> class includes a <code>DbSet&lt;TEntity</code> property for each entity in the model</p></li><li><p>Think of it as the table in the database</p></li><li><p>This <code>DbSet</code> property <code>Books</code> will be used to query and save instances of the Book class</p><ul><li><p>The name of this <code>DbSet</code> property corresponds to the table name EF Core will create</p></li><li><p>The columns of this table will correspond to the properties of <code>Books</code> class</p></li></ul></li><li><p>The LINQ queries against the <code>DbSet&lt;TEntity&gt;</code> will be translated into queries against the underlying database</p></li></ul><h2 id="database-providers" tabindex="-1">Database Providers <a class="header-anchor" href="#database-providers" aria-label="Permalink to “Database Providers”">​</a></h2><p>EF Core wide verity of databases</p><p>Sample list:</p><ul><li><p>SQLite: <code>Microsoft.EntityFrameworkCore.Sqlite</code></p></li><li><p>SQL Server</p></li><li><p>MySQL</p></li><li><p>Maria</p></li><li><p>Oracle</p></li><li><p>PostgreSQL</p></li><li><p>In-memory: The In-Memory provider was not designed for use outside of <strong>testing environments</strong> and should never be used as such: <code>Microsoft.EntityFrameworkCore.InMemory</code></p></li></ul><h2 id="repository-pattern" tabindex="-1">Repository Pattern <a class="header-anchor" href="#repository-pattern" aria-label="Permalink to “Repository Pattern”">​</a></h2><p>It is an abstraction of the data access layer, it hides the details of how exactly the data is saved or retrieved from the underlying data source (such as databases, flat files, web services, etc.)</p><ul><li>The details of how the data is stored and retrieved is in the respective repository</li><li>It provides a single point of entry for retrieving and manipulating data, allowing the rest of the application to be decoupled from the specifics of the data storage layer</li></ul><h2 id="migrations" tabindex="-1">Migrations <a class="header-anchor" href="#migrations" aria-label="Permalink to “Migrations”">​</a></h2><p>EF Core Migrations: Provides a way to incrementally update the database schema to keep in sync with the application&#39;s data model while preserving existing data in the database</p><ul><li><p>In other words, Migration keeps the database schema and application model classes in sync</p></li><li><p>Install <code>Microsoft.EntityFrameworkCore.Tools</code> for EF Core Migrations</p></li><li><p>Add the connection string into <code>appsettings.json</code> file. For MySQL it is <code>Server=localhost;port=3306;user=;database=;password=</code></p></li><li><p>Run migration: <code>Add-Migration InitialDbMigration</code></p></li><li><p>It will create a class with the name provided during migration which inherits from <code>Migration</code></p></li><li><p>It will have methods such as <code>CreateTable</code> with the name provide in the connection string</p></li><li><p>Update the database: <code>Update-Database</code></p></li></ul><ol><li><p>Add a new migration:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;"># Help command</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">Get-Help</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> about_EntityFrameworkCore</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;"># string can be anything meaningful</span></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;"># old way: Enable migrations</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">Add-Migration</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">initialSetup</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;"># using \`dotnet\` CLI</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">dotnet</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> ef</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> migrations</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> add</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">initialSetup</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span></span></code></pre></div><ul><li>The above command create a directory called &quot;Migrations&quot; at the root of the project</li><li>Inside this directory a new files are created: <ul><li><p><code>XXXXX_[name of migration].cs-</code>: The main migrations file. It contains the operations necessary to apply the migration (in <code>Up</code>) and to revert it (in <code>Down</code>).</p></li><li><p><code>XXXXX_[name of migration].Designer.cs</code>: The migrations metadata file. Contains information used by EF</p></li><li><p><code>AppDbContextModelSnapshot.cs</code>: A snapshot of your current model. Used to determine what changed when adding the next migration</p></li></ul></li></ul></li><li><p>Update the database to the last migration or to a specified migration</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;"># using \`dotnet\` CLI</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">dotnet</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> ef</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> database</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> update</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;"># update database to the last migration</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">Update-Database</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;"># update database to a specific migration</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">Update-Database</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> [migration </span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">name</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> or</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> migration</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> id]</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;"># reverts all migrations</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">Update-Database</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;"> 0</span></span></code></pre></div></li></ol><h3 id="remove-migration" tabindex="-1">Remove-Migration <a class="header-anchor" href="#remove-migration" aria-label="Permalink to “Remove-Migration”">​</a></h3><p>Removes the last migration (rolls back the code changes that were done for the migration):</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">Remove-Migration</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;"># using \`dotnet\` CLI</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">dotnet</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> ef</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> migrations</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> remove</span></span></code></pre></div><ul><li><p>Removing migration that has already been applied to the database will throw error</p></li><li><p>To undo the applied migrations use <code>Update-Database</code> command with the name of the migration previous to the one that needs to be reverted</p></li><li><p>Then run <code>Remove-Migration</code> to remove the migration</p></li></ul><h2 id="data-seeding" tabindex="-1">Data Seeding <a class="header-anchor" href="#data-seeding" aria-label="Permalink to “Data Seeding”">​</a></h2><p>Data seeding is the process of populating a database with an initial set of data</p><p>There are several ways this can be accomplished in EF Core:</p><ol><li><p>Model seed data:</p><div class="language-cs"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">protected</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> override</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> void</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> OnModelCreating</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">ModelBuilder</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> modelBuilder</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">{</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">    modelBuilder</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">Entity</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">Blog</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&gt;().</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">HasData</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">new</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;"> Blog</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> {</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> BlogId</span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;"> 1</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">,</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> Url</span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">http://sample.com</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> });</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">}</span></span></code></pre></div><ul><li>Id needs to be provided</li></ul></li><li><p>Manual migration customization:</p><div class="language-cs"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">protected</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> override</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> void</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> OnModelCreating</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">ModelBuilder</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> modelBuilder</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">{</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">    migrationBuilder</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">InsertData</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">        table</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">:</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">Blogs</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">        columns</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">:</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> new</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">[]</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> {</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">Url</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> },</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">        values</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">:</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> new</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> object</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">[]</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> {</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">http://generated.com</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> });</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">}</span></span></code></pre></div></li><li><p>Custom initialization logic:</p><div class="language-cs"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">using</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">var</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> context</span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> new</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;"> DataSeedingContext</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">())</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">{</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">    context</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">Database</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">EnsureCreated</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">    var</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> testBlog</span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> context</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">Blogs</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">FirstOrDefault</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">b</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> =&gt;</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> b</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">Url</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> ==</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">http://test.com</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">);</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">    if</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">testBlog</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> ==</span><span style="--shiki-dark:#CB7676;--shiki-light:#005CC5;"> null</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">    {</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">        context</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">Blogs</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">Add</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">new</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;"> Blog</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> {</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> Url</span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">http://test.com</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> });</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">    context</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">SaveChanges</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">();</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">}</span></span></code></pre></div></li></ol><p>Perform migration and update database</p><p><em>Example:</em> Create an extension class for data seeding, this keeps the <code>DbContext</code> class clean:</p><div class="language-cs"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">public</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> static</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> class</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;"> DataSeed</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">this</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;"> ModelBuilder</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> modelBuilder</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">{</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">    modelBuilder.Entity&lt;Blog&gt;().</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">HasData</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span></span>
<span class="line"><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">        new</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> Blog</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> { BlogId </span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;"> 1</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">,</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> Url </span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">http://sample.com</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> }</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">        new</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> Blog</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> { BlogId </span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;"> 2</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">,</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> Url </span><span style="--shiki-dark:#666666;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &quot;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">https://example.io</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> }</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">        );</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">protected</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> override</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> void</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> OnModelCreating</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">ModelBuilder</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> modelBuilder</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">{</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">    migrationBuilder</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">DataSeed</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">();</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">}</span></span></code></pre></div><h2 id="cascading-referential-integrity-constraint" tabindex="-1">Cascading referential integrity constraint <a class="header-anchor" href="#cascading-referential-integrity-constraint" aria-label="Permalink to “Cascading referential integrity constraint”">​</a></h2><ul><li>No Action (Update/Delete action cannot be performed prevented)</li><li>Cascade</li><li>Set NULL</li><li>Set Default</li></ul><p>On Update: default is No Action On Delete: default is Cascade</p><h2 id="model-class" tabindex="-1">Model Class <a class="header-anchor" href="#model-class" aria-label="Permalink to “Model Class”">​</a></h2><p>Class properties can have <a href="#annotations">annotations</a></p><h2 id="annotations" tabindex="-1">Annotations <a class="header-anchor" href="#annotations" aria-label="Permalink to “Annotations”">​</a></h2><ul><li><p>Annotations as derived from <code>System.ComponentModel.DataAnnotations</code></p></li><li><p>Not all database related properties can be configured using annotations</p></li><li><p>For more control use <code>OnModelCreating</code> method</p><p><em>Example:</em></p><div class="language-cs"><button title="Copy Code" class="copy"></button><span class="lang">cs</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">protected</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> override</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> void</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> OnModelCreating</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">ModelBuilder</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> modelBuilder</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">{</span></span>
<span class="line"><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">   modelBuilder</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">Entity</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">Blog</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">&gt;().</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">Property</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">b</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> =&gt;</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> b</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;">Title</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">).</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">HasMaxLength</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;">50</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">).</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">IsRequired</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">();</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">// we can achive the same using annotations on the property \`Title\` in model class \`Blog\`</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">[</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">MaxLength</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;">50</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">)]</span></span>
<span class="line"><span style="--shiki-dark:#666666;--shiki-light:#24292E;">[</span><span style="--shiki-dark:#5DA994;--shiki-light:#6F42C1;">Required</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">]</span></span>
<span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">public</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> string</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> Title</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> {</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> get</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">;</span><span style="--shiki-dark:#BD976A;--shiki-light:#24292E;"> set</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">;</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> }</span></span></code></pre></div></li></ul><h2 id="fluent-api" tabindex="-1">Fluent API <a class="header-anchor" href="#fluent-api" aria-label="Permalink to “Fluent API”">​</a></h2><p>Fluent API is an advanced way of specifying model configuration that covers everything that data annotations can do in addition to some more advanced configuration not possible with data annotations</p><ul><li>Fluent API is another way to configure your domain classes</li></ul><p>If both Data annotations and Fluent API are use the precedence is:</p><ul><li>Fluent API &gt; Data Annotations &gt; Default Conventions</li></ul><p>The Code First Fluent API is most commonly accessed by overriding the OnModelCreating method on your derived DbContext</p><ul><li>Fluent API provides more functionality for configuration than DataAnnotations. Fluent API supports the following types of mappings</li></ul><h2 id="data-transfer-object-dto" tabindex="-1">Data Transfer Object (DTO) <a class="header-anchor" href="#data-transfer-object-dto" aria-label="Permalink to “Data Transfer Object (DTO)”">​</a></h2><p>The contract enabled between the client and the service</p>`,52)]])}var s=r(a,[[`render`,o]]);export{i as __pageData,s as default};