import{f as e,h as t,j as n,t as r}from"./chunks/plugin-vue_export-helper.CMCX8Lry.js";const i=JSON.parse(`{"title":"MySQL","description":"MySQL is an open-source RDBMS","frontmatter":{"title":"MySQL","description":"MySQL is an open-source RDBMS"},"headers":[],"relativePath":"Concepts/Databases/MySQL.md","filePath":"Concepts/Databases/MySQL.md","lastUpdated":1767053997000}`);var a={name:`Concepts/Databases/MySQL.md`};function o(r,i,a,o,s,c){return n(),e(`div`,null,[...i[0]||=[t(`<h1 id="mysql" tabindex="-1">MySQL <a class="header-anchor" href="#mysql" aria-label="Permalink to “MySQL”">​</a></h1><p><a href="https://www.mysql.com/" target="_blank" rel="noreferrer">MySQL</a> is an open-source <a href="./README.html#relational-database-systems">RDBMS</a> created in 1995</p><ul><li>MySQL InnoDB Storage Engine</li></ul><p>Setup: Install the <a href="https://dev.mysql.com/downloads/" target="_blank" rel="noreferrer">MySQL Community Server</a></p><p>Features:</p><ul><li>Web App</li><li>Ease of use</li><li>Speed</li><li>Scalability</li></ul><h2 id="data-types" tabindex="-1">Data Types <a class="header-anchor" href="#data-types" aria-label="Permalink to “Data Types”">​</a></h2><ul><li><code>CHAR</code>: It can only store strings of fixed length <code>CHAR(10)</code> can only store 10 characters</li></ul><table tabindex="0"><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>INT</code></td><td>Whole numbers</td></tr><tr><td><code>DECIMAL(M,N)</code></td><td>Decimal numbers (exact value) (number of digits M, precision N)</td></tr><tr><td><code>FLOAT</code></td><td></td></tr><tr><td><code>VARCHAR(L)</code></td><td>String of length L (for small strings)</td></tr><tr><td><code>TEXT</code></td><td>for longer strings</td></tr><tr><td><code>BLOB</code></td><td>Binary Large Object, Stores large data</td></tr><tr><td><code>DATE</code></td><td>&#39;YYYY-MM-DD&#39;</td></tr><tr><td><code>TIMESTAMP</code></td><td>&#39;YYYY-MM-DD HH:MM:SS&#39;</td></tr></tbody></table><h2 id="database-queries" tabindex="-1">Database Queries <a class="header-anchor" href="#database-queries" aria-label="Permalink to “Database Queries”">​</a></h2><p>Collation and Character Set:</p><ul><li>Default <code>latin1_swedish_ci</code> and <code>latin1</code></li></ul><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">SHOW </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">CHARACTER</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> SET</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">;</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">SHOW COLLATION;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">SHOW VARIABLES </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">LIKE</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &#39;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">c%</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&#39;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">CREATE</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> DATABASE</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> rose</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> DEFAULT</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> CHARACTER</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> SET</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> latin1 </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">COLLATE</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> latin1_swedish_cs;</span></span></code></pre></div><ul><li><code>count(*)</code> is fast and good to be used <ul><li>Smallest secondary non-null index</li></ul></li></ul><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">EXPLAIN </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">SELECT</span><span style="--shiki-dark:#B8A965;--shiki-light:#005CC5;"> COUNT</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">*</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">FROM</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> todos;</span></span></code></pre></div><h3 id="db-info" tabindex="-1">DB Info <a class="header-anchor" href="#db-info" aria-label="Permalink to “DB Info”">​</a></h3><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">-- list databases</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">SHOW DATABASES;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">-- list tables</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">SHOW TABLES;</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">SHOW TABLES </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">FROM</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> music;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">-- list columns</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">SHOW COLUMNS </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">FROM</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> track;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">-- list triggers</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">SHOW TRIGGERS;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">-- show statement used to create database, table</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">SHOW </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">CREATE</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> DATABASE</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> music;</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">SHOW </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">CREATE</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> TABLE</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> track;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">-- show table schema</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">DESCRIBE student;</span></span></code></pre></div><h2 id="database" tabindex="-1">Database <a class="header-anchor" href="#database" aria-label="Permalink to “Database”">​</a></h2><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">CREATE</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> DATABASE</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> lucy</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">-- avoid errors</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">CREATE</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> DATABASE</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> IF</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> NOT</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> EXISTS</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> lucy;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">USE</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> lucy;</span></span></code></pre></div><h2 id="table" tabindex="-1">Table <a class="header-anchor" href="#table" aria-label="Permalink to “Table”">​</a></h2><p>MySQL stores rows of a table in the leaf nodes of a B+ tree primarily designed for fast retrieval of data</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">SELECT</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> *</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">FROM</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> customers</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">WHERE</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> last_name REGEXP </span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&#39;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">^field</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&#39;</span></span></code></pre></div><p>Column Constraints:</p><ul><li><p><code>UNIQUE</code></p></li><li><p><code>NOT NULL</code></p></li><li><p><code>PRIMARY KEY</code>: entry for this column should be unique and cannot be <code>NULL</code></p></li><li><p><code>DEFAULT value</code>: set default value</p></li><li><p><code>ENUM</code></p></li><li><p><code>AUTO_INCREMENT</code>: Add unique number to each row</p></li><li><p><code>CHECK</code></p></li></ul><p><em>Example:</em></p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">-- Users table</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">CREATE</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> TABLE</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> Users</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> (</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">  id </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">INT</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> PRIMARY KEY</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">  email </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">VARCHAR</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;">255</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">NOT NULL</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> UNIQUE</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">  bio </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">TEXT</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">  country </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">VARCHAR</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;">2</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">-- Rooms table</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">CREATE</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> TABLE</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> Rooms</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> (</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">  id </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">SMALLINT</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;">5</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">NOT NULL</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> DEFAULT</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;"> 0</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">  street </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">CHAR</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;">128</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">DEFAULT</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> NULL</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">  owner_id </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">INT</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> NOT NULL</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">  PRIMARY KEY</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> (id),</span></span>
<span class="line"><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">  FOREIGN KEY</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> (owner_id) </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">REFERENCES</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> Users(id) </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">ON DELETE</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> SET</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> NULL</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">);</span></span></code></pre></div><ul><li><p><code>ON DELETE SET NULL</code>: set value as <code>NULL</code> when the foreign key entry is delete from the other table</p></li><li><p><code>ON DELETE SET CASCADE</code>: delete entry when the foreign key entry is delete from the other table</p></li></ul><p>Create temporary tables which will be deleted once the monitor connection is closed:</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">CREATE</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> TEMPORARY </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">TABLE</span></span></code></pre></div><ul><li>Show table:</li></ul><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">SHOW </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">CREATE</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> TABLE</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> todos;</span></span></code></pre></div><h3 id="column-types" tabindex="-1">Column Types <a class="header-anchor" href="#column-types" aria-label="Permalink to “Column Types”">​</a></h3><ol><li><code>INT[(width)] [UNSIGNED] [ZEROFILL]</code>: <ul><li><p><code>UNSIGNED</code> can be used</p></li><li><p><code>width</code>: Not the max number of digits but the min number of digits, like <code>INT(4)</code> will save 33 as 0033</p></li><li><p><code>width</code> and <code>ZEROFILL</code> arguments to left-pad the values with 0&#39;s</p></li></ul></li></ol><h2 id="index" tabindex="-1">Index <a class="header-anchor" href="#index" aria-label="Permalink to “Index”">​</a></h2><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">CREATE</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> INDEX</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> email_index</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> on</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> Users(email);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">-- size of index of a table</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">select</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> index_name, stat_value </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">*</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> @@innodb_page_size </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">/</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;"> 1024</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> /</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;"> 1024</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> as</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> index_size_in_mb </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">from</span><span style="--shiki-dark:#C99076;--shiki-light:#005CC5;"> mysql</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#C99076;--shiki-light:#005CC5;">innodb_index_stats</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> where</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> database_name</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &#39;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">your_database_name</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&#39;</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> and</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> table_name </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &#39;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">your_table_name</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&#39;</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> and</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> stat_name </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &#39;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">size</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&#39;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#758575DD;--shiki-light:#6A737D;">-- show indexes</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">SHOW INDEXEX </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">FROM</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> table_name \\G;</span></span></code></pre></div><h2 id="select-statement" tabindex="-1">SELECT Statement <a class="header-anchor" href="#select-statement" aria-label="Permalink to “SELECT Statement”">​</a></h2><p>The <a href="./../../Languages/SQL/SQL.html#select-dml"><code>SELECT</code> statement</a> is used to query the database and retrieve data from one or more tables</p><p>The arithmetic operators in order of precedence:</p><table tabindex="0"><thead><tr><th>Operator</th><th>Name</th><th style="text-align:center;">Order of precedence</th></tr></thead><tbody><tr><td><code>*</code></td><td>Multiplication</td><td style="text-align:center;">1</td></tr><tr><td><code>/</code></td><td>Division</td><td style="text-align:center;">1</td></tr><tr><td><code>DIV</code></td><td>Integer division</td><td style="text-align:center;">1</td></tr><tr><td><code>%</code> (MOD)</td><td>Modulo (remainder)</td><td style="text-align:center;">1</td></tr><tr><td><code>+</code></td><td>Addition</td><td style="text-align:center;">2</td></tr><tr><td><code>-</code></td><td>Subtraction</td><td style="text-align:center;">2</td></tr></tbody></table><p>What determines the sequence of operations?</p><ul><li>Order of precedence</li><li>Parentheses</li></ul><h2 id="functions" tabindex="-1">Functions <a class="header-anchor" href="#functions" aria-label="Permalink to “Functions”">​</a></h2><ul><li><code>CONCAT(string1[, string2]...)</code>: Concatenate strings</li><li><code>LEFT(str, number_of_characters)</code>: Extract leftmost characters</li><li><code>RIGHT(str, number_of_characters)</code>: Extract rightmost characters</li><li><code>DATE_FORMAT(date, format_string)</code>: Format date</li><li><code>ROUND(number[, number_of_decimal_places])</code>: Round number to specified decimal places</li></ul><h3 id="date-and-time" tabindex="-1">Date and Time <a class="header-anchor" href="#date-and-time" aria-label="Permalink to “Date and Time”">​</a></h3><p>Handle date and time values</p><h2 id="triggers" tabindex="-1">Triggers <a class="header-anchor" href="#triggers" aria-label="Permalink to “Triggers”">​</a></h2><p>A trigger is a stored program invoked automatically in response to an event such as <code>INSERT</code>, <code>UPDATE</code>, or <code>DELETE</code> that occurs in the associated table</p><ul><li>You can define a trigger that is invoked automatically before a new row is inserted into a table</li></ul><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">CREATE</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> TRIGGER</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;"> before_employee_update</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> BEFORE</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">UPDATE</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">  ON</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> employees </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">FOR</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;"> EACH </span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">ROW</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">INSERT INTO</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">  employees_audit</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">SET</span></span>
<span class="line"><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;">  action</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;"> &#39;</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">update</span><span style="--shiki-dark:#C98A7D77;--shiki-light:#032F62;">&#39;</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">  employeeNumber </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#C99076;--shiki-light:#005CC5;"> OLD</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#C99076;--shiki-light:#005CC5;">employeeNumber</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">  lastName </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#C99076;--shiki-light:#005CC5;"> OLD</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#C99076;--shiki-light:#005CC5;">lastName</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">  changeDate </span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#4D9375;--shiki-light:#D73A49;"> NOW</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">()</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">;</span></span></code></pre></div><ul><li>Default delimiter is <code>;</code></li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-dark github-light" style="--shiki-dark:#dbd7caee;--shiki-light:#24292e;--shiki-dark-bg:#121212;--shiki-light-bg:#fff;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">mysql</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">&gt; </span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">delimiter</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> //</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">mysql</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">&gt; </span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">CREATE</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> TRIGGER</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> upd_check</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> BEFORE</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> UPDATE</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> ON</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> account</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">       FOR</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> EACH</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> ROW</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">       BEGIN</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">           IF</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> NEW.amount</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> &lt;</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;"> 0</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> THEN</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">               SET</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> NEW.amount</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> =</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;"> 0</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">;</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">           ELSEIF</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> NEW.amount</span><span style="--shiki-dark:#CB7676;--shiki-light:#D73A49;"> &gt;</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;"> 100</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> THEN</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">               SET</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> NEW.amount</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> =</span><span style="--shiki-dark:#4C9A91;--shiki-light:#005CC5;"> 100</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">;</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">           END</span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;"> IF</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">;</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">       END</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;">;</span><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">//</span></span>
<span class="line"><span style="--shiki-dark:#80A665;--shiki-light:#6F42C1;">mysql</span><span style="--shiki-dark:#DBD7CAEE;--shiki-light:#24292E;">&gt; </span><span style="--shiki-dark:#C98A7D;--shiki-light:#032F62;">delimiter</span><span style="--shiki-dark:#666666;--shiki-light:#24292E;"> ;</span></span></code></pre></div><h2 id="locks" tabindex="-1">Locks <a class="header-anchor" href="#locks" aria-label="Permalink to “Locks”">​</a></h2><p><code>show session variables like &#39;%isolation%&#39;;</code></p><p>Add Table lock:</p><p><code>lock table PRODUCTS write;</code></p><h2 id="settings" tabindex="-1">Settings <a class="header-anchor" href="#settings" aria-label="Permalink to “Settings”">​</a></h2><ul><li><code>set autocommit=0;</code>: Disable auto-commit (default: ON)</li><li><code>set session transaction isolation level read commited;</code>: Good for OLTP Databases (default: repeatable-read)</li></ul>`,57)]])}var s=r(a,[[`render`,o]]);export{i as __pageData,s as default};